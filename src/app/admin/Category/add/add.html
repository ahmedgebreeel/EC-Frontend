<div class="admin-container">
  <!-- Page Header -->
  <div class="page-header">
    <div class="header-top">
      <a routerLink="/admin/categories" class="back-link">
        <i class="fas fa-arrow-left"></i>
        <span>Back to Categories</span>
      </a>
    </div>
    <h1 class="page-title">Add New Category</h1>
    <p class="page-subtitle">Create a new category to organize your products</p>
  </div>

  <!-- Form Container -->
  <div class="form-container">
    <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()">
      
      <!-- Basic Information Section -->
      <div class="form-section">
        <div class="section-header">
          <i class="fas fa-info-circle"></i>
          <h3>Category Information</h3>
        </div>

        <div class="form-row">
          <div class="form-group full-width">
            <label for="name">Category Name <span class="required">*</span></label>
            <input 
              type="text" 
              id="name"
              formControlName="name"
              class="form-control" 
              placeholder="Enter category name (e.g., Electronics, Fashion)">
            <div class="help-text">
              <i class="fas fa-info-circle"></i>
              Maximum 200 characters
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group full-width">
            <label for="description">Description</label>
            <textarea 
              id="description"
              formControlName="description"
              (input)="onDescriptionChange($event)"
              class="form-control" 
              rows="4" 
              placeholder="Enter category description (optional)"></textarea>
            <div class="char-count">
              {{ descriptionLength() }} / 1000 characters
            </div>
          </div>
        </div>
      </div>

      <!-- Hierarchy Section -->
      <div class="form-section">
        <div class="section-header">
          <i class="fas fa-sitemap"></i>
          <h3>Category Hierarchy</h3>
        </div>

        <div class="form-row flex-wrap">
          <div class="col-lg-4 col-sm-12">
            <div class="form-group full-width">
              <label for="parentCategoryId">Parent Category</label>
              <select 
                id="parentCategoryId"
                formControlName="parentCategoryId"
                class="form-control">
                <option value="">None (Root Category)</option>
                @for (parent of parentCategories(); track parent.id) {
                  <option [value]="parent.id">{{ parent.name }}</option>
                }
              </select>
              <div class="help-text">
                <i class="fas fa-info-circle"></i>
                Select a parent category to create a subcategory, or leave as "None" for a root category
              </div>
            </div>
          </div>

          <!-- Category Preview -->
          <div class="category-preview col-lg-7 col-sm-12">
            <div class="preview-header">
              <i class="fas fa-eye"></i>
              <h4>Category Preview</h4>
            </div>
            <div class="preview-content">
              <div class="preview-item">
                <i class="fas fa-layer-group"></i>
                <div class="preview-details">
                  <span class="preview-label">Category Path:</span>
                  <span class="preview-value">{{ categoryPath() }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <button type="button" (click)="onCancel()" class="btn btn-secondary">
          <i class="fas fa-times"></i>
          Cancel
        </button>
        <button type="submit" class="btn btn-primary" [disabled]="!categoryForm.valid">
          <i class="fas fa-check"></i>
          Add Category
        </button>
      </div>
    </form>
  </div>
</div>
