<!-- Admin Dashboard/Homepage -->
<div class="dashboard-container">

  <!-- Welcome Header -->
  <div class="welcome-header">
    <div class="welcome-content">
      <h1><i class="fas fa-tachometer-alt me-3"></i>Admin Dashboard</h1>
      <p>Welcome back! Here's what's happening with your store today.</p>
    </div>
    <div class="date-time">
      <i class="fas fa-calendar-alt me-2"></i>
      <span>{{ currentDate | date: 'EEEE, MMMM d, y' }}</span>
    </div>
  </div>

  <!-- Statistics Cards -->
  <div class="stats-grid">

    <!-- Total Orders Card -->
    <div class="stat-card stat-orders">
      <div class="stat-icon">
        <i class="fas fa-shopping-bag"></i>
      </div>
      <div class="stat-details">
        <h3>{{ totalOrders }}</h3>
        <p>Total Orders</p>
        <div class="stat-change positive">
          <i class="fas fa-arrow-up"></i>
          <span>+12% from last month</span>
        </div>
      </div>
    </div>

    <!-- Total Products Card -->
    <div class="stat-card stat-products">
      <div class="stat-icon">
        <i class="fas fa-box"></i>
      </div>
      <div class="stat-details">
        <h3>{{ totalProducts }}</h3>
        <p>Total Products</p>
        <div class="stat-change positive">
          <i class="fas fa-arrow-up"></i>
          <span>+8 new this week</span>
        </div>
      </div>
    </div>

    <!-- Total Users Card -->
    <div class="stat-card stat-users">
      <div class="stat-icon">
        <i class="fas fa-users"></i>
      </div>
      <div class="stat-details">
        <h3>{{ totalUsers }}</h3>
        <p>Total Users</p>
        <div class="stat-change positive">
          <i class="fas fa-arrow-up"></i>
          <span>+24 new users</span>
        </div>
      </div>
    </div>

    <!-- Revenue Card -->
    <div class="stat-card stat-revenue">
      <div class="stat-icon">
        <i class="fas fa-dollar-sign"></i>
      </div>
      <div class="stat-details">
        <h3>{{ totalRevenue | currency }}</h3>
        <p>Total Revenue</p>
        <div class="stat-change positive">
          <i class="fas fa-arrow-up"></i>
          <span>+18% from last month</span>
        </div>
      </div>
    </div>

  </div>

  <!-- Quick Actions / Navigation Cards -->
  <div class="section-header">
    <h2><i class="fas fa-bolt me-2"></i>Quick Actions</h2>
    <p>Navigate to different sections of the admin panel</p>
  </div>

  <div class="navigation-grid">

    <!-- Orders Management Card -->
    <div class="nav-card orders-card" routerLink="/admin/orders">
      <div class="nav-card-icon">
        <i class="fas fa-shopping-cart"></i>
      </div>
      <div class="nav-card-content">
        <h3>Orders Management</h3>
        <p>View and manage customer orders, update order status</p>
        <div class="nav-card-stats">
          <div class="stat-item">
            <span class="stat-label">Pending:</span>
            <span class="stat-value">{{ pendingOrders }}</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Processing:</span>
            <span class="stat-value">{{ processingOrders }}</span>
          </div>
        </div>
      </div>
      <div class="nav-card-arrow">
        <i class="fas fa-chevron-right"></i>
      </div>
    </div>

    <!-- Products Management Card -->
    <div class="nav-card products-card" routerLink="/admin/products">
      <div class="nav-card-icon">
        <i class="fas fa-box-open"></i>
      </div>
      <div class="nav-card-content">
        <h3>Products Management</h3>
        <p>Add, edit, and manage your product inventory</p>
        <div class="nav-card-stats">
          <div class="stat-item">
            <span class="stat-label">In Stock:</span>
            <span class="stat-value">{{ inStockProducts }}</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Low Stock:</span>
            <span class="stat-value warning">{{ lowStockProducts }}</span>
          </div>
        </div>
      </div>
      <div class="nav-card-arrow">
        <i class="fas fa-chevron-right"></i>
      </div>
    </div>

    <!-- Users Management Card -->
    <div class="nav-card users-card" routerLink="/admin/users">
      <div class="nav-card-icon">
        <i class="fas fa-user-friends"></i>
      </div>
      <div class="nav-card-content">
        <h3>Users Management</h3>
        <p>Manage users and assign roles (Admin, Seller, Customer)</p>
        <div class="nav-card-stats">
          <div class="stat-item">
            <span class="stat-label">Sellers:</span>
            <span class="stat-value">{{ totalSellers }}</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Customers:</span>
            <span class="stat-value">{{ totalCustomers }}</span>
          </div>
        </div>
      </div>
      <div class="nav-card-arrow">
        <i class="fas fa-chevron-right"></i>
      </div>
    </div>

    <!-- Categories Management Card -->
    <div class="nav-card categories-card" routerLink="/admin/categories">
      <div class="nav-card-icon">
        <i class="fas fa-tags"></i>
      </div>
      <div class="nav-card-content">
        <h3>Categories Management</h3>
        <p>Organize products into categories for better navigation</p>
        <div class="nav-card-stats">
          <div class="stat-item">
            <span class="stat-label">Total:</span>
            <span class="stat-value">{{ totalCategories }}</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Active:</span>
            <span class="stat-value">{{ activeCategories }}</span>
          </div>
        </div>
      </div>
      <div class="nav-card-arrow">
        <i class="fas fa-chevron-right"></i>
      </div>
    </div>

  </div>

  <!-- Recent Activity Section -->
  <div class="section-header">
    <h2><i class="fas fa-history me-2"></i>Recent Activity</h2>
    <p>Latest updates and changes in your store</p>
  </div>

  <div class="activity-grid">

    <!-- Recent Orders -->
    <div class="activity-card">
      <div class="activity-header">
        <h3><i class="fas fa-shopping-bag me-2"></i>Recent Orders</h3>
        <a routerLink="/admin/orders" class="view-all">View All</a>
      </div>
      <div class="activity-list">
        @for (order of recentOrders; track order.id) {
          <div class="activity-item">
            <div class="activity-icon orders-icon">
              <i class="fas fa-receipt"></i>
            </div>
            <div class="activity-info">
              <p class="activity-title">Order {{ order.id }}</p>
              <p class="activity-meta">{{ order.customerName }} â€¢ {{ order.total | currency }}</p>
            </div>
            <span class="activity-badge badge-{{ order.status }}">{{ order.status }}</span>
          </div>
        } @empty {
          <p class="no-activity">No recent orders</p>
        }
      </div>
    </div>

    <!-- Recent Users -->
    <div class="activity-card">
      <div class="activity-header">
        <h3><i class="fas fa-user-plus me-2"></i>New Users</h3>
        <a routerLink="/admin/users" class="view-all">View All</a>
      </div>
      <div class="activity-list">
        @for (user of recentUsers; track user.id) {
          <div class="activity-item">
            <div class="activity-icon users-icon">
              <i class="fas fa-user"></i>
            </div>
            <div class="activity-info">
              <p class="activity-title">{{ user.name }}</p>
              <p class="activity-meta">{{ user.email }}</p>
            </div>
            <span class="activity-badge badge-role-{{ user.role.toLowerCase() }}">{{ user.role }}</span>
          </div>
        } @empty {
          <p class="no-activity">No new users</p>
        }
      </div>
    </div>

  </div>

</div>